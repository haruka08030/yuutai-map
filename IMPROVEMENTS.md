# Project Improvement Plan

This plan outlines key areas for improving the Yuutai Map application, focusing on code quality, consistency, and maintainability.

---

## Next Up

### 1. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®çµ±ä¸€
-   **Task:** ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’çµ±ä¸€ã™ã‚‹
-   **Reason:** ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦‹ãŸç›®ã‚’ä¸€è²«ã•ã›ã‚‹
-   **Sub-tasks:**
    -   ä¸€è²«æ€§ã®ãªã„ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°UIã‚’çµ±ä¸€ã™ã‚‹
    -   ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã™ã‚‹
    -   ãƒœã‚¿ãƒ³ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’è¿½åŠ ã™ã‚‹

### 2. ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ã®æ•´ç†
-   **Task:** ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ã‚’æ•´ç†ã™ã‚‹
-   **Reason:** ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦‹ãŸç›®ã‚’ä¸€è²«ã•ã›ã‚‹
-   **Sub-tasks:**
    -   ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸè‰²ã‚’ã¾ã¨ã‚ã‚‹
    -   ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ»ã‚¿ãƒ¼ã‚·ãƒ£ãƒªã‚«ãƒ©ãƒ¼ã‚’å®šç¾©ã™ã‚‹
    -   ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å¯¾å¿œã™ã‚‹

### 3. ãƒ•ã‚©ãƒ¼ãƒ UXæ”¹å–„
-   **Task:** ãƒ•ã‚©ãƒ¼ãƒ UXã‚’æ”¹å–„ã™ã‚‹
-   **Reason:** ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹
-   **Sub-tasks:**
    -   ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤ºåˆ‡æ›¿ã‚’è¿½åŠ ã™ã‚‹
    -   ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹
    -   å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒãƒ¼ã‚­ãƒ³ã‚°ã‚’è¿½åŠ ã™ã‚‹

---

## âœ… Completed

### 1. ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ”¹å–„
-   **Task:** ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ”¹å–„ã™ã‚‹
-   **Reason:** ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹
-   **Sub-tasks:**
    -   ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹
    -   ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ ã™ã‚‹
    -   ãƒ¡ãƒ¼ãƒ«ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å³æ ¼ã«ã™ã‚‹

### 2. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
-   **Task:** ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ”¹å–„ã™ã‚‹
-   **Reason:** ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹
-   **Sub-tasks:**
    -   ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ©ãƒ³ãƒ‰ã‚¹ã‚±ãƒ¼ãƒ—å¯¾å¿œã‚’è¿½åŠ ã™ã‚‹
    -   å›ºå®šé«˜ã•ã®ä½¿ç”¨ã‚’é¿ã‘ã‚‹
    -   å¤§ç”»é¢ã§ã®æœ€å¤§å¹…åˆ¶ç´„ã‚’è¿½åŠ ã™ã‚‹

---

## ğŸ” Self-Discovery Protocol (When Queue is Empty)
*If no tasks are listed above, perform these audits in order and generate new tasks based on findings.*

### 1. Code Quality Audit
-   **Linter Check:** Run `flutter analyze`. If errors/warnings exist, create a task to fix them.
-   **Hardcoded Strings:** Search for user-facing strings not in a localization file/const class. Create a task to extract them.
-   **Long Methods:** Identify build methods over 50 lines. Create a task to "Extract Widget".
-   **Magic Numbers:** Identify raw numbers in code (e.g., styling constants). Create a task to move them to `AppTheme` or constants.

### 2. Architecture & Consistency
-   **Logic Separation:** Ensure no business logic exists directly in UI Widgets (Move to Controllers/Providers).
-   **Supabase Sync:** Check `GEMINI.md` schema definition against the actual Supabase table definitions in code. If different, create a task to update documentation.

### 3. Cleanup
-   **TODO Comments:** Search for `// TODO` in the codebase. Convert the oldest/most critical one into a task.
-   **Unused Imports:** Run cleanup command or manually check for unused files.